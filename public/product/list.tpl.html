<div class="page-header">
    <h1>Product List</h1>
</div>
<div class="row">
    <div class="col-xs-5">
        <a href="#/api/product/0" class="btn btn-default"><span class="glyphicon glyphicon-plus"></span> New Product</a>
    </div>
    <div class="col-xs-7">
        <input type="text" class="form-control" ng-model="query" placeholder="Search for a product">
    </div>
</div>
<div class="row">
    <div class="col-xs-12">
        <hr>
    </div>
</div>
<div class="row" ng-switch on="products.length">
    <ul ng-switch-when="0">
        <li>No products in database. Would you like to <a href="#/api/product/0">create one</a>?</li>
    </ul>

    <table class="table table-hover" >

        <tbody ng-repeat="product in products| filter: query" 
                ng-click="selectProduct(product)" ng-switch on="isSelected(product)" >
            <tr>
                <td> <a href="#/api/product/{{product._id}}">{{product.name}}</a> </td>
                <td> <i>{{ product.code}}</i></td>
                <td> <i>{{ product.type}}</i> </td>
            </tr>
            <tr ng-switch-when="true" >
                <td> <input type="text" ng-model="product.name" class="form-control"> </td>
                <td> <input type="text" ng-model="product.code" class="form-control"></td>
                <td> <input type="text" ng-model="product.type" class="form-control"></td>
            </tr>
             <tr ng-switch-when="true">
                <td colspan="4"> <strong>Description: </strong>{{ product.description }}</td>
            </tr>        
        </tbody>
            
    </table>
</div>
<p>&nbsp;</p>